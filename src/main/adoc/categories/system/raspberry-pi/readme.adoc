= Raspberry Pi

== OpenWRT

.Download proper IMG file matching model
link:https://openwrt.org/toh/raspberry_pi_foundation/raspberry_pi[]

.Flash SD card with tools like Balena or standard commands
[source,bash]
----
gzip -d imagename-factory.img.gz
dd if=imagename-factory.img of=/dev/sdX bs=2M conv=fsync
sync
----



.Disconnect from network cable, boot RPi with screen and keyboard

.Initial boot (commands local)
[source,bash]
----
# once booted, there is local prompt for command lines

# Force Static IP address of your choice
$ ifconfig br-lan 192.168.1.10 netmak 255.255.255.0

# Set your WAN gateway
$ route add default gw 192.168.1.1
----



.Connect the Network cable RJ45 to RPi

.Open Browser to chosen IP Address link:http://192.168.1.10[]

.Setup DNS if necessary
image:image-openwrt-admin-network-dns.png[]

.SSH installation (commands remote)
[source,bash]
----
# SSH connect using root/(empty)

$ ssh root@192.168.1.10

BusyBox v1.36.1 (2023-10-09 21:45:35 UTC) built-in shell (ash)

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 OpenWrt 23.05.0, r23497-6637af95aa
 -----------------------------------------------------
=== WARNING! =====================================
There is no root password defined on this device!
Use the "passwd" command to set up a new password
in order to prevent unauthorized SSH logins.
--------------------------------------------------

#  Check IP  Addresses

root@OpenWrt:~# ip addr show
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel master br-lan state UP qlen 1000
    link/ether b8:27:eb:b3:ae:52 brd ff:ff:ff:ff:ff:ff
3: br-lan: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP qlen 1000
    link/ether b8:27:eb:b3:ae:52 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.10/24 brd 192.168.1.255 scope global br-lan
       valid_lft forever preferred_lft forever
    inet6 fd7d:95c8:c0ec::1/60 scope global noprefixroute 
       valid_lft forever preferred_lft forever
    inet6 fe80::ba27:ebff:feb3:ae52/64 scope link 
       valid_lft forever preferred_lft forever

# Check Internet connection

root@OpenWrt:~# ping google.com
PING google.com (142.250.74.238): 56 data bytes
64 bytes from 142.250.74.238: seq=0 ttl=110 time=37.446 ms
64 bytes from 142.250.74.238: seq=1 ttl=110 time=38.932 ms
----

----

[TIP]
